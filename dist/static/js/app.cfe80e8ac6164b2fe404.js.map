{"version":3,"sources":["webpack:///static/js/app.cfe80e8ac6164b2fe404.js","webpack:///./src/main.js","webpack:///./src/services/pubnub.js","webpack:///App.vue","webpack:///Messenger.vue","webpack:///./src/App.vue","webpack:///./src/components/Messenger.vue","webpack:///./src/App.vue?2a8a","webpack:///./src/components/Messenger.vue?ff27"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","template","data","messages","msg","components","App","32","connect","tcaUserChannel","_promise2","resolve","pubnub","_pubnub2","publishKey","subscribeKey","addListener","status","statusEvent","category","message","messageNotification","console","log","i","callbacks","length","call","this","subscribe","channels","Object","defineProperty","value","_promise","_pubnub","init","channelName","onMessage","callback","push","publish","channel","quantity","token","messageString","error","publishConfig","response","33","_Messenger","_Messenger2","name","Messenger","34","ready","$root","mounted","_this","queryVarName","match","RegExp","exec","window","location","search","decodeURIComponent","then","newMessage","methods","sendMessage","69","70","72","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","73","_scopeId","74","_vm","_h","attrs","id","75","staticClass","_m","directives","rawName","expression","_l","_s","for","type","placeholder","domProps","on","input","$event","target","composing","staticStyle","width","height","disabled","click","data-my-uuid"],"mappings":"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","file":"static/js/app.cfe80e8ac6164b2fe404.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(76);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(72);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tnew _vue2.default({\n\t  el: '#app',\n\t  template: '<App/>',\n\t  data: function data() {\n\t    return {\n\t      messages: [{ msg: 'Hello World' }]\n\t    };\n\t  },\n\t\n\t  components: { App: _App2.default }\n\t});\n\n/***/ },\n\n/***/ 32:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _promise = __webpack_require__(35);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _pubnub = __webpack_require__(71);\n\t\n\tvar _pubnub2 = _interopRequireDefault(_pubnub);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar pubnub = void 0;\n\tvar callbacks = [];\n\t\n\tfunction connect(tcaUserChannel) {\n\t  return new _promise2.default(function (resolve) {\n\t    pubnub = new _pubnub2.default({\n\t      publishKey: 'pub-c-ccbdf034-c8ed-4fd1-86fb-880758711b7f',\n\t      subscribeKey: 'sub-c-da59fece-ac28-11e6-a114-0619f8945a4f'\n\t    });\n\t\n\t    pubnub.addListener({\n\t      status: function status(statusEvent) {\n\t        if (statusEvent.category === 'PNConnectedCategory') {\n\t          resolve();\n\t        }\n\t      },\n\t\n\t      message: function message(messageNotification) {\n\t        console.log('received new messageNotification', messageNotification);\n\t\n\t        for (var i = 0; i < callbacks.length; i++) {\n\t          callbacks[i].call(this, messageNotification.message);\n\t        }\n\t      }\n\t\n\t    });\n\t\n\t    pubnub.subscribe({\n\t      channels: ['control', tcaUserChannel]\n\t    });\n\t  });\n\t}\n\t\n\texports.default = {\n\t  init: function init(channelName) {\n\t    return connect(channelName);\n\t  },\n\t  onMessage: function onMessage(callback) {\n\t    callbacks.push(callback);\n\t  },\n\t  publish: function publish(channel, quantity, token, messageString) {\n\t    if (pubnub == null) {\n\t      console.error('init pubnub first');\n\t      return;\n\t    }\n\t\n\t    var publishConfig = {\n\t      channel: channel,\n\t      message: { quantity: quantity, token: token, msg: messageString }\n\t    };\n\t\n\t    pubnub.publish(publishConfig, function (status, response) {\n\t      if (status.error) {\n\t        console.error(status.error);\n\t      }\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 33:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Messenger = __webpack_require__(73);\n\t\n\tvar _Messenger2 = _interopRequireDefault(_Messenger);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'app',\n\t  components: {\n\t    Messenger: _Messenger2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 34:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _pubnub = __webpack_require__(32);\n\t\n\tvar _pubnub2 = _interopRequireDefault(_pubnub);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  name: 'Messenger',\n\t\n\t  data: function data() {\n\t    return {\n\t      ready: false,\n\t      messages: this.$root.messages,\n\t\n\t      quantity: null,\n\t      token: null,\n\t      message: null\n\t    };\n\t  },\n\t  mounted: function mounted() {\n\t    var _this = this;\n\t\n\t    var queryVarName = 'c';\n\t    var match = RegExp('[?&]' + queryVarName + '=([^&]*)').exec(window.location.search);\n\t    var channelName = match && decodeURIComponent(match[1]);\n\t\n\t    _pubnub2.default.init(channelName).then(function () {\n\t      _this.ready = true;\n\t    });\n\t\n\t    _pubnub2.default.onMessage(function (newMessage) {\n\t      _this.messages.push(newMessage);\n\t    });\n\t  },\n\t\n\t\n\t  methods: {\n\t    sendMessage: function sendMessage() {\n\t      _pubnub2.default.publish('tcabroadcast', this.quantity, this.token, this.message);\n\t\n\t      this.message = '';\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 69:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 70:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 72:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(69)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(33)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(74)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 73:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(70)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(34)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(75)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-324ed8d8\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n\n/***/ 74:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    attrs: {\n\t      \"id\": \"app\"\n\t    }\n\t  }, [_vm._h('messenger')])\n\t},staticRenderFns: []}\n\n/***/ },\n\n/***/ 75:\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    staticClass: \"chat\"\n\t  }, [_vm._m(0), \" \", _vm._m(1), \" \", _vm._h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.messages.length == 0),\n\t      expression: \"messages.length == 0\"\n\t    }],\n\t    staticClass: \"no-messages\"\n\t  }, [\"\\n    Waiting for messages...\\n  \"]), \" \", _vm._h('div', {\n\t    directives: [{\n\t      name: \"show\",\n\t      rawName: \"v-show\",\n\t      value: (_vm.messages.length > 0),\n\t      expression: \"messages.length > 0\"\n\t    }],\n\t    staticClass: \"messages\"\n\t  }, [_vm._l((_vm.messages), function(message) {\n\t    return _vm._h('pre', [\"[\" + _vm._s(message.quantity) + \" \" + _vm._s(message.token) + \"] \" + _vm._s(message.msg)])\n\t  })]), \" \", _vm._m(2), \" \", _vm._h('div', {\n\t    staticClass: \"input-group\"\n\t  }, [_vm._h('label', {\n\t    attrs: {\n\t      \"for\": \"QuantityInput\"\n\t    }\n\t  }, [\"Quantity \", _vm._h('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.quantity),\n\t      expression: \"quantity\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"id\": \"QuantityInput\",\n\t      \"placeholder\": \"10\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.quantity)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.quantity = $event.target.value\n\t      }\n\t    }\n\t  })])]), \" \", _vm._h('div', {\n\t    staticClass: \"input-group\"\n\t  }, [_vm._h('label', {\n\t    attrs: {\n\t      \"for\": \"TokenInput\"\n\t    }\n\t  }, [\"Token \", _vm._h('input', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.token),\n\t      expression: \"token\"\n\t    }],\n\t    attrs: {\n\t      \"type\": \"text\",\n\t      \"id\": \"TokenInput\",\n\t      \"placeholder\": \"TOKENLY\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.token)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.token = $event.target.value\n\t      }\n\t    }\n\t  })])]), \" \", _vm._h('div', {\n\t    staticClass: \"input-group\"\n\t  }, [_vm._h('label', {\n\t    attrs: {\n\t      \"for\": \"MessageInput\"\n\t    }\n\t  }, [\"Message \", _vm._h('textarea', {\n\t    directives: [{\n\t      name: \"model\",\n\t      rawName: \"v-model\",\n\t      value: (_vm.message),\n\t      expression: \"message\"\n\t    }],\n\t    staticStyle: {\n\t      \"width\": \"300px\",\n\t      \"height\": \"48px\"\n\t    },\n\t    attrs: {\n\t      \"id\": \"MessageInput\",\n\t      \"placeholder\": \"Your Message Here\"\n\t    },\n\t    domProps: {\n\t      \"value\": _vm._s(_vm.message)\n\t    },\n\t    on: {\n\t      \"input\": function($event) {\n\t        if ($event.target.composing) { return; }\n\t        _vm.message = $event.target.value\n\t      }\n\t    }\n\t  })])]), \" \", _vm._h('button', {\n\t    attrs: {\n\t      \"id\": \"SendButton\",\n\t      \"disabled\": !_vm.ready\n\t    },\n\t    on: {\n\t      \"click\": function($event) {\n\t        _vm.sendMessage()\n\t      }\n\t    }\n\t  }, [\"Send\"])])\n\t},staticRenderFns: [function (){var _vm=this;\n\t  return _vm._h('h1', [\"Welcome User \", _vm._h('span', {\n\t    attrs: {\n\t      \"data-my-uuid\": \"\"\n\t    }\n\t  })])\n\t},function (){var _vm=this;\n\t  return _vm._h('div', {\n\t    staticClass: \"messages-header\"\n\t  }, [\"Messages\"])\n\t},function (){var _vm=this;\n\t  return _vm._h('h2', [\"Publish A Message\"])\n\t}]}\n\n/***/ }\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/app.cfe80e8ac6164b2fe404.js","import Vue from 'vue'\nimport App from './App'\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  data () {\n    return {\n      messages: [{msg: 'Hello World'}]\n    }\n  },\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import PubNub from 'pubnub'\n\nlet pubnub\nlet callbacks = []\n\nfunction connect (tcaUserChannel) {\n  return new Promise((resolve) => {\n    pubnub = new PubNub({\n      publishKey: 'pub-c-ccbdf034-c8ed-4fd1-86fb-880758711b7f',\n      subscribeKey: 'sub-c-da59fece-ac28-11e6-a114-0619f8945a4f'\n    })\n\n    pubnub.addListener({\n      status: function (statusEvent) {\n        if (statusEvent.category === 'PNConnectedCategory') {\n          resolve()\n        }\n      },\n\n      message: function (messageNotification) {\n        console.log('received new messageNotification', messageNotification)\n\n        for (var i = 0; i < callbacks.length; i++) {\n          callbacks[i].call(this, messageNotification.message)\n        }\n        // $('.messages').append('<pre>['+message.message.token+'] '+message.message.msg+(message.message.num ? ' '+message.message.num : '')+'</pre>')\n      }\n\n    })\n\n    pubnub.subscribe({\n      channels: ['control', tcaUserChannel]\n    })\n  })\n}\n\nexport default {\n\n  init (channelName) {\n    return connect(channelName)\n  },\n\n  onMessage (callback) {\n    callbacks.push(callback)\n  },\n\n  publish (channel, quantity, token, messageString) {\n    if (pubnub == null) {\n      console.error('init pubnub first')\n      return\n    }\n\n    var publishConfig = {\n      channel: channel,\n      message: {quantity: quantity, token: token, msg: messageString}\n    }\n\n    pubnub.publish(publishConfig, (status, response) => {\n      if (status.error) {\n        console.error(status.error)\n      }\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/pubnub.js","<template>\n  <div id=\"app\">\n    <messenger></messenger>\n  </div>\n</template>\n\n<script>\nimport Messenger from './components/Messenger'\n\nexport default {\n  name: 'app',\n  components: {\n    Messenger\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin-top: 60px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?4e1a1114","<template>\n  <div class=\"chat\">\n    <h1>Welcome User <span data-my-uuid></span></h1>\n\n    <div class=\"messages-header\">Messages</div>\n    <div v-show=\"messages.length == 0\" class=\"no-messages\">\n      Waiting for messages...\n    </div>\n    <div v-show=\"messages.length > 0\" class=\"messages\">\n      <pre v-for=\"message in messages\">[{{ message.quantity }} {{ message.token }}] {{ message.msg }}</pre>\n    </div>\n\n    <h2>Publish A Message</h2>\n    <div class=\"input-group\"><label for=\"QuantityInput\">Quantity <input type=\"text\" v-model=\"quantity\" id=\"QuantityInput\" placeholder=\"10\"></label></div>\n    <div class=\"input-group\"><label for=\"TokenInput\">Token <input type=\"text\" v-model=\"token\" id=\"TokenInput\" placeholder=\"TOKENLY\"></label></div>\n    <div class=\"input-group\"><label for=\"MessageInput\">Message <textarea style=\"width: 300px; height: 48px;\" v-model=\"message\" id=\"MessageInput\" placeholder=\"Your Message Here\"></textarea></label></div>\n    <button id=\"SendButton\" v-on:click=\"sendMessage()\" :disabled=\"!ready\">Send</button>\n  </div>\n</template>\n\n<script>\nimport pubnub from '../services/pubnub'\n\nexport default {\n  name: 'Messenger',\n\n  data () {\n    return {\n      ready: false,\n      messages: this.$root.messages,\n\n      quantity: null,\n      token: null,\n      message: null\n    }\n  },\n\n  mounted () {\n    // get parameter query var '?c=xxxxx'\n    let queryVarName = 'c'\n    let match = RegExp('[?&]' + queryVarName + '=([^&]*)').exec(window.location.search)\n    let channelName = (match && decodeURIComponent(match[1]))\n\n    // init the pubnub channel\n    pubnub.init(channelName).then(() => {\n      // mark as ready\n      this.ready = true\n    })\n\n    // handle a new message\n    pubnub.onMessage((newMessage) => {\n      this.messages.push(newMessage)\n    })\n  },\n\n  methods: {\n    sendMessage () {\n      // TO-DO check for errors and stuff first\n      pubnub.publish('tcabroadcast', this.quantity, this.token, this.message)\n\n      // reset the message\n      this.message = ''\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\na {\n  color: #42b983;\n}\n\n\n/* Warning: stupid styles below */\n\ndiv.messages-header {\n  font-weight: bold;\n  padding: 0 8px;\n}\n\ndiv.messages {\n  padding: 0 0 0 0;\n  border: 1px solid #ccc;\n}\n\ndiv.messages pre {\n  margin: 4px 0 0 0;\n  padding: 0 16px 4px;\n  border-bottom: 1px solid #eee;\n}\n\n\n.input-group {\n  margin-bottom: 12px;\n}\nlabel input, label textarea {\n  margin-left: 12px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// Messenger.vue?277189b4","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-20054dd2!vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./App.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-20054dd2!vue-loader/lib/selector?type=template&index=0!./App.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 72\n// module chunks = 2","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-324ed8d8&scoped=true!vue-loader/lib/selector?type=styles&index=0!./Messenger.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Messenger.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-324ed8d8!vue-loader/lib/selector?type=template&index=0!./Messenger.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-324ed8d8\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Messenger.vue\n// module id = 73\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_vm._h('messenger')])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-20054dd2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 74\n// module chunks = 2","module.exports={render:function (){var _vm=this;\n  return _vm._h('div', {\n    staticClass: \"chat\"\n  }, [_vm._m(0), \" \", _vm._m(1), \" \", _vm._h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.messages.length == 0),\n      expression: \"messages.length == 0\"\n    }],\n    staticClass: \"no-messages\"\n  }, [\"\\n    Waiting for messages...\\n  \"]), \" \", _vm._h('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.messages.length > 0),\n      expression: \"messages.length > 0\"\n    }],\n    staticClass: \"messages\"\n  }, [_vm._l((_vm.messages), function(message) {\n    return _vm._h('pre', [\"[\" + _vm._s(message.quantity) + \" \" + _vm._s(message.token) + \"] \" + _vm._s(message.msg)])\n  })]), \" \", _vm._m(2), \" \", _vm._h('div', {\n    staticClass: \"input-group\"\n  }, [_vm._h('label', {\n    attrs: {\n      \"for\": \"QuantityInput\"\n    }\n  }, [\"Quantity \", _vm._h('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.quantity),\n      expression: \"quantity\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"QuantityInput\",\n      \"placeholder\": \"10\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.quantity)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.quantity = $event.target.value\n      }\n    }\n  })])]), \" \", _vm._h('div', {\n    staticClass: \"input-group\"\n  }, [_vm._h('label', {\n    attrs: {\n      \"for\": \"TokenInput\"\n    }\n  }, [\"Token \", _vm._h('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.token),\n      expression: \"token\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"id\": \"TokenInput\",\n      \"placeholder\": \"TOKENLY\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.token)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.token = $event.target.value\n      }\n    }\n  })])]), \" \", _vm._h('div', {\n    staticClass: \"input-group\"\n  }, [_vm._h('label', {\n    attrs: {\n      \"for\": \"MessageInput\"\n    }\n  }, [\"Message \", _vm._h('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.message),\n      expression: \"message\"\n    }],\n    staticStyle: {\n      \"width\": \"300px\",\n      \"height\": \"48px\"\n    },\n    attrs: {\n      \"id\": \"MessageInput\",\n      \"placeholder\": \"Your Message Here\"\n    },\n    domProps: {\n      \"value\": _vm._s(_vm.message)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.message = $event.target.value\n      }\n    }\n  })])]), \" \", _vm._h('button', {\n    attrs: {\n      \"id\": \"SendButton\",\n      \"disabled\": !_vm.ready\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.sendMessage()\n      }\n    }\n  }, [\"Send\"])])\n},staticRenderFns: [function (){var _vm=this;\n  return _vm._h('h1', [\"Welcome User \", _vm._h('span', {\n    attrs: {\n      \"data-my-uuid\": \"\"\n    }\n  })])\n},function (){var _vm=this;\n  return _vm._h('div', {\n    staticClass: \"messages-header\"\n  }, [\"Messages\"])\n},function (){var _vm=this;\n  return _vm._h('h2', [\"Publish A Message\"])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-324ed8d8!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Messenger.vue\n// module id = 75\n// module chunks = 2"],"sourceRoot":""}